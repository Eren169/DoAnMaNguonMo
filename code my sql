create database QuanLiKho;

use QuanLiKho;
CREATE TABLE HangHoa (
  IDHangHoa INT PRIMARY KEY AUTO_INCREMENT,
  TenHangHoa VARCHAR(255) NOT NULL,
  MoTa VARCHAR(255),
  GiaBan DECIMAL(10,2) NOT NULL,
  SoLuongTonKho INT NOT NULL
);

use QuanLiKho;
CREATE TABLE NhanVien (
  IDNhanVien INT PRIMARY KEY AUTO_INCREMENT,
  TenNhanVien VARCHAR(255) NOT NULL,
  DiaChi VARCHAR(255),
  SoDienThoai VARCHAR(255),
  Password VARCHAR(255) NOT NULL
);

use QuanLiKho;
CREATE TABLE DonVi (
  IDDonVi INT PRIMARY KEY AUTO_INCREMENT,
  TenDonVi VARCHAR(255) NOT NULL,
  SoDienThoai VARCHAR(255),
  DiaChi VARCHAR(255)
);

use QuanLiKho;
CREATE TABLE NhaCungCap (
  IDNCC INT PRIMARY KEY AUTO_INCREMENT,
  TenNhaCungCap VARCHAR(255) NOT NULL,
  DiaChi VARCHAR(255),
  SoDienThoai VARCHAR(255)
);

use QuanLiKho;
CREATE TABLE NhapHang (
  IDNhapHang INT PRIMARY KEY AUTO_INCREMENT,
  Ngay DATE NOT NULL,
  IDDonVi INT NOT NULL,
  IDHangHoa INT NOT NULL,
  IDNCC INT NOT NULL,
  SoLuong INT NOT NULL,
  TongTien DECIMAL(10,2) NOT NULL,
  CONSTRAINT fk_DonVi FOREIGN KEY (IDDonVi) REFERENCES DonVi(IDDonVi),
  CONSTRAINT fk_HangHoa_Nhap FOREIGN KEY (IDHangHoa) REFERENCES HangHoa(IDHangHoa),
  CONSTRAINT fk_NhaCungCap FOREIGN KEY (IDNCC) REFERENCES NhaCungCap(IDNCC)
  );

use QuanLiKho;
CREATE TABLE XuatHang (
  IDXuatHang INT PRIMARY KEY AUTO_INCREMENT,
  NgayXuat DATE NOT NULL,
  IDKhachHang INT NOT NULL,
  IDNhanVien INT NOT NULL,
  IDHangHoa INT NOT NULL,
  SoLuong INT NOT NULL,
  GiaBan DECIMAL(10,2) NOT NULL,
  ThanhTien DECIMAL(10,2) NOT NULL,
  CONSTRAINT fk_NhanVien FOREIGN KEY (IDNhanVien) REFERENCES NhanVien(IDNhanVien),
  CONSTRAINT fk_HangHoa_Xuat FOREIGN KEY (IDHangHoa) REFERENCES HangHoa(IDHangHoa)
);
